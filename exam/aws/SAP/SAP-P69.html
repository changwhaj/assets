<!DOCTYPE html>
<html class="js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths" lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><base href="https://changwhaj.github.io/assets/"/></head><body class="home2 modal-open" style="padding-right: 17px;"><div style="position:relative;">
<!-- RubyOnRails - formstatic / kaminari -->
<base href="https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-professional/view/69/"/>
<meta content="authenticity_token" name="csrf-param"/>
<meta content="4sWPhTlJAds1IcfNq1FCybbssAVhHqjiDCKRXOgOQock=" name="csrf-token"/>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript"></script><script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript"></script><script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-119892649-1"></script>
<script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'UA-119892649-1');
        </script>
<meta content="F930_I7rZrRYlNHqblq5P9QvwAEKasart2HpzlnYsSQ" name="google-site-verification"/>
<!-- meta tag -->
<meta charset="utf-8"/>
<title>AWS Certified Solutions Architect - Professional Exam â€“ Free Actual Q&amp;As, Page 69 | ExamTopics</title>
<meta content="Free, Actual and Latest Practice Test for those who are preparing for AWS Certified Solutions Architect - Professional
    ." name="description"/>
<!-- responsive tag -->
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- favicon -->
<link href="/assets/images/et/favicon/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/>
<link href="/assets/images/et/favicon/apple-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"/>
<link href="/assets/images/et/favicon/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="/assets/images/et/favicon/apple-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"/>
<link href="/assets/images/et/favicon/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/>
<link href="/assets/images/et/favicon/apple-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"/>
<link href="/assets/images/et/favicon/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="/assets/images/et/favicon/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"/>
<link href="/assets/images/et/favicon/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/assets/images/et/favicon/android-icon-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="/assets/images/et/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/assets/images/et/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="/assets/images/et/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/assets/images/et/favicon/manifest.json" rel="manifest"/>
<meta content="#007bff" name="msapplication-TileColor"/>
<meta content="/assets/images/et/favicon/ms-icon-144x144.png" name="msapplication-TileImage"/>
<meta content="#ffffff" name="theme-color"/>
<!-- deflink == defered link (loaded later by jquery) -->
<!-- bootstrap v4 css -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<!-- font-awesome css -->
<link defhref="/assets/css/font-awesome.min.css" href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<!-- animate css -->
<link defhref="/assets/css/animate.css" href="/assets/css/animate.css" rel="stylesheet" type="text/css"/>
<!-- owl.carousel css -->
<link defhref="/assets/css/owl.carousel.css" href="/assets/css/owl.carousel.css" rel="stylesheet" type="text/css"/>
<!-- slick css -->
<link defhref="/assets/css/slick.css" href="/assets/css/slick.css" rel="stylesheet" type="text/css"/>
<!-- rsmenu CSS -->
<link href="/assets/css/rsmenu-main.css" rel="stylesheet" type="text/css"/>
<!-- rsmenu transitions CSS -->
<link defhref="/assets/css/rsmenu-transitions.css" href="/assets/css/rsmenu-transitions.css" rel="stylesheet" type="text/css"/>
<!-- magnific popup css -->
<link defhref="/assets/css/magnific-popup.css" href="/assets/css/magnific-popup.css" rel="stylesheet" type="text/css"/>
<!-- flaticon css  -->
<link defhref="/assets/fonts/flaticon.css" href="/assets/fonts/flaticon.css" rel="stylesheet" type="text/css"/>
<!-- flaticon2 css  -->
<link defhref="/assets/fonts/fonts2/flaticon.css" href="/assets/fonts/fonts2/flaticon.css" rel="stylesheet" type="text/css"/>
<link href="/assets/css/style.css" rel="stylesheet" type="text/css"/>
<!-- Switch style CSS
            <link rel="stylesheet" href="/assets/css/color-style.css">-->
<link href="/assets/css/color/default.css" rel="stylesheet" type="text/css"/>
<!-- style css -->
<!-- switch color presets css
            <link id="switch_style" href="#" rel="stylesheet" type="text/css"> -->
<!-- responsive css -->
<link href="/assets/css/responsive.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
<style>
        .exam-question-card  {
            break-inside: avoid;
        }

        
    </style>
<!--Full width header Start-->
<!--Full width header End-->
<div class="sec-spacer" style="padding: 60px 0px; ">
<div class="container">
<div class="row">
<div class="col-12">
<div class="page-navigation-line">
<script type="text/javascript">
var row = "";
var div = document.getElementsByClassName('page-navigation-line')[0]
for (var i = 1; i <= 75; i++) {
    row = row + "<a class='btn-success' href='exam/aws/SAP/SAP-P" + i + ".html'><i class='fa'></i> " + i + "</a> "
}
div.innerHTML = row 
</script>
</div>
<div class="questions-container">
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #681
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675384">
<p class="card-text">
                                        
                                        A financial services company receives a regular data feed from its credit card servicing partner. Approximately 5,000 records are sent every 15 minutes in plaintext, delivered over HTTPS directly into an Amazon S3 bucket with server-side encryption. This feed contains sensitive credit card primary account number<br/>(PAN) data. The company needs to automatically mask the PAN before sending the data to another S3 bucket for additional internal processing. The company also needs to remove and merge specific fields, and then transform the record into JSON format. Additionally, extra feeds are likely to be added in the future, so any design needs to be easily expandable.<br/>Which solutions will meet these requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Trigger an AWS Lambda function on file delivery that extracts each record and writes it to an Amazon SQS queue. Trigger another Lambda function when new messages arrive in the SQS queue to process the records, writing the results to a temporary location in Amazon S3. Trigger a final Lambda function once the SQS queue is empty to transform the records into JSON format and send the results to another S3 bucket for internal processing.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Trigger an AWS Lambda function on file delivery that extracts each record and writes it to an Amazon SQS queue. Configure an AWS Fargate container application to automatically scale to a single instance when the SQS queue contains messages. Have the application process each record, and transform the record into JSON format. When the queue is empty, send the results to another S3 bucket for internal processing and scale down the AWS Fargate instance.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Create an AWS Glue crawler and custom classifier based on the data feed formats and build a table definition to match. Trigger an AWS Lambda function on file delivery to start an AWS Glue ETL job to transform the entire record according to the processing and transformation requirements. Define the output format as JSON. Once complete, have the ETL job send the results to another S3 bucket for internal processing.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Create an AWS Glue crawler and custom classifier based upon the data feed formats and build a table definition to match. Perform an Amazon Athena query on file delivery to start an Amazon EMR ETL job to transform the entire record according to the processing and transformation requirements. Define the output format as JSON. Once complete, send the results to another S3 bucket for internal processing and scale down the EMR cluster.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q681.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">17</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #682
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675385">
<p class="card-text">
                                        
                                        A media company is serving video files stored in Amazon S3 using Amazon CloudFront. The development team needs access to the logs to diagnose faults and perform service monitoring. The log files from CloudFront may contain sensitive information about users.<br/>The company uses a log processing service to remove sensitive information before making the logs available to the development team. The company has the following requirements for the unprocessed logs:<br/>âœ‘ The logs must be encrypted at rest and must be accessible by the log processing service only.<br/>Only the data protection team can control access to the unprocessed log files.<br/><img class="in-exam-image" src="/assets/media/exam-media/03759/0044800002.png"/><br/>âœ‘ AWS CloudFormation templates must be stored in AWS CodeCommit.<br/>âœ‘ AWS CodePipeline must be triggered on commit to perform updates made to CloudFormation templates.<br/>âœ‘ CloudFront is already writing the unprocessed logs to an Amazon S3 bucket, and the log processing service is operating against this S3 bucket.<br/>Which combination of steps should a solutions architect take to meet the company×’â‚¬â„¢s requirements? (Choose two.)<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Create an AWS KMS key that allows the AWS Logs Delivery account to generate data keys for encryption Configure S3 default encryption to use server-side encryption with KMS managed keys (SSE-KMS) on the log storage bucket using the new KMS key. Modify the KMS key policy to allow the log processing service to perform decrypt operations.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Create an AWS KMS key that follows the CloudFront service role to generate data keys for encryption Configure S3 default encryption to use KMS managed keys (SSE-KMS) on the log storage bucket using the new KMS key Modify the KMS key policy to allow the log processing service to perform decrypt operations.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Configure S3 default encryption to use AWS KMS managed keys (SSE-KMS) on the log storage bucket using the AWS Managed S3 KMS key. Modify the KMS key policy to allow the CloudFront service role to generate data keys for encryption Modify the KMS key policy to allow the log processing service to perform decrypt operations.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Create a new CodeCommit repository for the AWS KMS key template. Create an IAM policy to allow commits to the new repository and attach it to the data protection team×’â‚¬â„¢s users. Create a new CodePipeline pipeline with a custom IAM role to perform KMS key updates using CloudFormation Modify the KMS key policy to allow the CodePipeline IAM role to modify the key policy.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            E.
                                                        </span>
                                                        
                                                        Use the existing CodeCommit repository for the AWS KMS key template. Create an IAM policy to allow commits to the new repository and attach it to the data protection team×’â‚¬â„¢s users. Modify the existing CodePipeline pipeline to use a custom IAM role and to perform KMS key updates using CloudFormation. Modify the KMS key policy to allow the CodePipeline IAM role to modify the key policy.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q682.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">AD</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #683
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675386">
<p class="card-text">
                                        
                                        A company×’â‚¬â„¢s service for video game recommendations has just gone viral. The company has new users from all over the world. The website for the service is hosted on a set of Amazon EC2 instances in an Auto Scaling group behind an Application Load Balancer (ALB). The website consists of static content with different resources being loaded depending on the device type.<br/>Users recently reported that the load time for the website has increased. Administrators are reporting high loads on the EC2 instances that host the service.<br/>Which set actions should a solutions architect take to improve response times?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Create separate Auto Scaling groups based on device types. Switch to Network Load Balancer (NLB). Use the User-Agent HTTP header in the NLB to route to a different set of EC2 instances.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Move content to Amazon S3. Create an Amazon CloudFront distribution to serve content out of the S3 bucket. Use Lambda@Edge to load different resources based on the User-Agent HTTP header.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Create a separate ALB for each device type. Create one Auto Scaling group behind each ALB. Use Amazon Route 53 to route to different ALBs depending on the User-Agent HTTP header.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Move content to Amazon S3. Create an Amazon CloudFront distribution to serve content out of the S3 bucket. Use the User-Agent HTTP header to load different content.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q683.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">20</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #684
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675387">
<p class="card-text">
                                        
                                        A company is planning a large event where a promotional offer will be introduced. The company×’â‚¬â„¢s website is hosted on AWS and backed by an Amazon RDS for<br/>PostgreSQL DB instance. The website explains the promotion and includes a sign-up page that collects user information and preferences. Management expects large and unpredictable volumes of traffic periodically, which will create many database writes. A solutions architect needs to build a solution that does not change the underlying data model and ensures that submissions are not dropped before they are committed to the database.<br/>Which solution meets these requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Immediately before the event, scale up the existing DB instance to meet the anticipated demand. Then scale down after the event.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Use Amazon SQS to decouple the application and database layers. Configure an AWS Lambda function to write items from the queue into the database.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Migrate to Amazon DynamoDB and manage throughput capacity with automatic scaling.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Use Amazon ElastiCache for Memcached to increase write capacity to the DB instance.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q684.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">26</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">D</span> <br/>
</span>
<span class="answer-description">
                                            Reference:<br/>https://aws.amazon.com/elasticache/faqs/
                                        </span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #685
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675388">
<p class="card-text">
                                        
                                        A mobile app has become very popular, and usage has gone from a few hundred to millions of users. Users capture and upload images of activities within a city, and provide ratings and recommendations. Data access patterns are unpredictable. The current application is hosted on Amazon EC2 instances behind an<br/>Application Load Balancer (ALB). The application is experiencing slowdowns and costs are growing rapidly.<br/>Which changes should a solutions architect make to the application architecture to control costs and improve performance?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Create an Amazon CloudFront distribution and place the ALB behind the distribution. Store static content in Amazon S3 in an Infrequent Access storage class.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Store static content in an Amazon S3 bucket using the Intelligent Tiering storage class. Use an Amazon CloudFront distribution in front of the S3 bucket and the ALB.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Place AWS Global Accelerator in front of the ALB. Migrate the static content to Amazon EFS, and then run an AWS Lambda function to resize the images during the migration process.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Move the application code to AWS Fargate containers and swap out the EC2 instances with the Fargate containers.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q685.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">6</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">B</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #686
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675389">
<p class="card-text">
                                        
                                        A financial company with multiple departments wants to expand its on-premises environment to the AWS Cloud. The company must retain centralized access control using an existing on-premises Active Directory (AD) service. Each department should be allowed to create AWS accounts with preconfigured networking and should have access to only a specific list of approved services. Departments are not permitted to have account administrator permissions.<br/>What should a solutions architect do to meet these security requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Configure AWS Identity and Access Management (IAM) with a SAML identity provider (IdP) linked to the on-premises Active Directory, and create a role to grant access. Configure AWS Organizations with SCPs and create new member accounts. Use AWS CloudFormation templates to configure the member account networking.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Deploy an AWS Control Tower landing zone. Create an AD Connector linked to the on-premises Active Directory. Change the identity source in AWS Single Sign-On to use Active Directory. Allow department administrators to use Account Factory to create new member accounts and networking. Grant the departments AWS power user permissions on the created accounts.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Deploy an Amazon Cloud Directory. Create a two-way trust relationship with the on-premises Active Directory, and create a role to grant access. Set up an AWS Service Catalog to use AWS CloudFormation templates to create the new member accounts and networking. Use IAM roles to allow access to approved AWS services.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Configure AWS Directory Service for Microsoft Active Directory with AWS Single Sign-On. Join the service to the on-premises Active Directory. Use AWS CloudFormation to create new member accounts and networking. Use IAM roles to allow access to approved AWS services.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q686.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">13</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">B</span> <br/>
</span>
<span class="answer-description">
                                            Reference:<br/>https://d1.awsstatic.com/whitepapers/aws-overview.pdf<br/>(46)
                                        </span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #687
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675390">
<p class="card-text">
                                        
                                        A large financial company is deploying applications that consist of Amazon EC2 and Amazon RDS instances to the AWS Cloud using AWS CloudFormation.<br/>The CloudFormation stack has the following stack policy:<br/><img class="in-exam-image" src="/assets/media/exam-media/03759/0045200001.png"/><br/>The company wants to ensure that developers do not lose data by accidentally removing or replacing RDS instances when updating the CloudFormation stack.<br/>Developers also still need to be able to modify or remove EC2 instances as needed.<br/>How should the company change the stack policy to meet these requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Modify the statement to specify ×’â‚¬Effect×’â‚¬: ×’â‚¬Deny×’â‚¬, ×’â‚¬Action×’â‚¬:[×’â‚¬Update:*×’â‚¬] for all logical RDS resources.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Modify the statement to specify ×’â‚¬Effect×’â‚¬: ×’â‚¬Deny×’â‚¬, ×’â‚¬Action×’â‚¬:[×’â‚¬Update:Delete×’â‚¬] for all logical RDS resources.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Add a second statement that specifies ×’â‚¬Effect×’â‚¬: ×’â‚¬Deny×’â‚¬, ×’â‚¬Action×’â‚¬:[×’â‚¬Update:Delete×’â‚¬, ×’â‚¬Update:Replace×’â‚¬] for all logical RDS resources.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Add a second statement that specifies ×’â‚¬Effect×’â‚¬: ×’â‚¬Deny×’â‚¬, ×’â‚¬Action×’â‚¬:[×’â‚¬Update:*×’â‚¬] for all logical RDS resources.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q687.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">C</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #688
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675391">
<p class="card-text">
                                        
                                        A company is currently in the design phase of an application that will need an RPO of less than 5 minutes and an RTO of less than 10 minutes. The solutions architecture team is forecasting that the database will store approximately 10 TB of data. As part of the design, they are looking for a database solution that will provide the company with the ability to fail over to a secondary Region.<br/>Which solution will meet these business requirements at the LOWEST cost?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Deploy an Amazon Aurora DB cluster and take snapshots of the cluster every 5 minutes. Once a snapshot is complete, copy the snapshot to a secondary Region to serve as a backup in the event of a failure.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Deploy an Amazon RDS instance with a cross-Region read replica in a secondary Region. In the event of a failure, promote the read replica to become the primary.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Deploy an Amazon Aurora DB cluster in the primary Region and another in a secondary Region. Use AWS DMS to keep the secondary Region in sync.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Deploy an Amazon RDS instance with a read replica in the same Region. In the event of a failure, promote the read replica to become the primary.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q688.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">13</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">B</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #689
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675392">
<p class="card-text">
                                        
                                        A company has a web application that uses Amazon API Gateway, AWS Lambda, and Amazon DynamoDB. A recent marketing campaign has increased demand.<br/>Monitoring software reports that many requests have significantly longer response times than before the marketing campaign.<br/>A solutions architect enabled Amazon CloudWatch Logs for API Gateway and noticed that errors are occurring on 20% of the requests. In CloudWatch, the<br/>Lambda function Throttles metric represents 1% of the requests and the Errors metric represents 10% of the requests. Application logs indicate that, when errors occur, there is a call to DynamoDB.<br/>What change should the solutions architect make to improve the current response times as the web application becomes more popular?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Increase the concurrency limit of the Lambda function
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Implement DynamoDB auto scaling on the table
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Increase the API Gateway throttle limit
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Re-create the DynamoDB table with a better-partitioned primary index
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q689.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">18</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">B</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #690
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675393">
<p class="card-text">
                                        
                                        A European online newspaper service hosts its public-facing WordPress site in a collocated data center in London. The current WordPress infrastructure consists of a load balancer, two web servers, and one MySQL database server. A solutions architect is tasked with designing a solution with the following requirements:<br/>âœ‘ Improve the website×’â‚¬â„¢s performance<br/>âœ‘ Make the web tier scalable and stateless<br/>âœ‘ Improve the database server performance for read-heavy loads<br/>âœ‘ Reduce latency for users across Europe and the US<br/>âœ‘ Design the new architecture with a goal of 99.9% availability<br/>Which solution meets these requirements while optimizing operational efficiency?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Use an Application Load Balancer (ALB) in front of an Auto Scaling group of WordPress Amazon EC2 instances in one AWS Region and three Availability Zones. Configure an Amazon ElastiCache cluster in front of a Multi-AZ Amazon Aurora MySQL DB cluster. Move the WordPress shared files to Amazon EFS. Configure Amazon CloudFront with the ALB as the origin, and select a price class that includes the US and Europe.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Use an Application Load Balancer (ALB) in front of an Auto Scaling group of WordPress Amazon EC2 instances in two AWS Regions and two Availability Zones in each Region. Configure an Amazon ElastiCache cluster in front of a global Amazon Aurora MySQL database. Move the WordPress shared files to Amazon EFS. Configure Amazon CloudFront with the ALB as the origin, and select a price class that includes the US and Europe. Configure EFS cross- Region replication.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Use an Application Load Balancer (ALB) in front of an Auto Scaling group of WordPress Amazon EC2 instances in one AWS Region and three Availability Zones. Configure an Amazon DocumentDB table in front of a Multi-AZ Amazon Aurora MySQL DB cluster. Move the WordPress shared files to Amazon EFS. Configure Amazon CloudFront with the ALB as the origin, and select a price class that includes all global locations.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Use an Application Load Balancer (ALB) in front of an Auto Scaling group of WordPress Amazon EC2 instances in two AWS Regions and three Availability Zones in each Region. Configure an Amazon ElastiCache cluster in front of a global Amazon Aurora MySQL database. Move the WordPress shared files to Amazon FSx with cross-Region synchronization. Configure Amazon CloudFront with the ALB as the origin and a price class that includes the US and Europe.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q690.html" target="sapexam">
<i class="fa fa-comment"></i>
                                            Â  Discussion Â 
                                            
                                                <span class="badge badge-pill badge-light">12</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
</div>
<div class="page-navigation-bar">
<div class="col-12">
<a class="btn btn-success" href="exam/aws/SAP/SAP-P68.html"><i class="fa fa-arrow-left"></i> Previous Questions</a>
<a class="btn btn-success pull-right" href="exam/aws/SAP/SAP-P70.html">Next Questions <i class="fa fa-arrow-right"></i></a>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Footer Start -->
<!-- Footer End -->
<!-- start scrollUp  -->
<div class="d-print-none" id="scrollUp">
<i class="fa fa-angle-up"></i>
</div>
<!-- Search Modal Start -->
<div aria-hidden="true" class="modal fade search-modal" role="dialog" tabindex="-1">
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true" class="fa fa-close"></span>
</button>
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content">
<div class="search-block clearfix">
<form action="/search/" id="modal-keyword-search-form">
<div class="form-group">
<input autocomplete="off" class="form-control" id="modal-keyword-search" name="query" placeholder="Exam name or code..." type="text"/>
</div>
</form>
</div>
</div>
</div>
</div>
<div aria-hidden="true" aria-labelledby="loginModalLabel" class="modal fade" id="login-modal" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="loginModalLabel">Log in to ExamTopics</h5>
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">Ã—</span>
</button>
</div>
<div class="modal-body">
<div class="login-wrapper col-lg-10 offset-lg-1 col-md-12">
<h4 class="mb-30 text-left">Sign in:</h4>
<form action="/login/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/69/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/69/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/69/" method="post">
<div class="card-text mb-30">
<div class="input-group input-group-lg mb-3">
<div class="input-group-prepend">
<span class="input-group-text bg-theme-blue text-white" id="basic-addon1">
<i class="fa fa-user" style="width: 20px; height: 20px"></i>
</span>
</div>
<input aria-describedby="basic-addon1" aria-label="Username" class="form-control username-text" name="email" placeholder="Email or nickname" type="text"/>
</div>
</div>
<div class="card-text mb-30">
<div class="input-group input-group-lg mb-1">
<div class="input-group-prepend">
<span class="input-group-text bg-theme-blue text-white" id="basic-addon2">
<i class="fa fa-key" style="width: 20px; height: 20px"></i>
</span>
</div>
<input aria-describedby="basic-addon2" aria-label="Password" class="form-control password-text" name="password" placeholder="Password" type="password"/>
</div>
<div class="mb-30 text-left"><a href="/reset-password/">Forgot my password</a></div>
</div>
<button class="btn btn-primary btn-lg login-button" onclick="validateUserPass(event);" type="submit">Log in</button>
<input name="csrfmiddlewaretoken" type="hidden" value="DnpsafFaODPHfvddIzRzCiJzwU7fWMmfU5nRUiAkjQE2opbBvlK88FYr13zSbshr"/>
</form>
<div class="login-footer mt-30">
<span>Don't have an account yet? just <a href="/signup/">sign-up</a>.</span>
<br/>
<span>
<i class="fa fa-envelope-o"></i>
<a href="/resend-activation/">Resend activation email</a>
</span>
</div>
</div> <!-- / Login wrapper -->
<script type="application/javascript">
    function validateUserPass(e) {
        let username = $('.username-text').val().trim();
        let password = $('.password-text').val().trim();
        if ((!username) || (!password)) {
            bootbox.alert("Username or password are missing");
            e.preventDefault();
        }
    }

</script>
</div>
<div class="modal-footer">
<button class="btn btn-secondary mt-15" data-dismiss="modal" type="button">Close</button>
</div>
</div>
</div>
</div>
<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<!-- modernizr js -->
<script src="/assets/js/modernizr-2.8.3.min.js"></script>
<!-- jquery latest version -->
<script src="/assets/js/jquery.min.js"></script>
<!-- bootstrap js -->
<script src="/assets/js/bootstrap.min.js"></script>
<!-- owl.carousel js
        <script src="/assets/js/owl.carousel.min.js"></script>-->
<!-- slick.min js -->
<script src="/assets/js/slick.min.js"></script>
<!-- isotope.pkgd.min js -->
<script src="/assets/js/isotope.pkgd.min.js"></script>
<!-- imagesloaded.pkgd.min js -->
<script src="/assets/js/imagesloaded.pkgd.min.js"></script>
<!-- wow js -->
<script src="/assets/js/wow.min.js"></script>
<!-- counter top js -->
<script src="/assets/js/waypoints.min.js"></script>
<script src="/assets/js/jquery.counterup.min.js"></script>
<!-- magnific popup -->
<script src="/assets/js/jquery.magnific-popup.min.js"></script>
<!-- rsmenu js -->
<script src="/assets/js/rsmenu-main.js"></script>
<!-- plugins js -->
<script src="/assets/js/plugins.js"></script>
<!-- Switch js -->
<script src="/assets/js/color-style.js"></script>
<!-- main js -->
<script src="/assets/js/main.js"></script>
<script src="/assets/js/bootbox.min.js"></script>
<script async="" defer="" src="/assets/js/bootstrap3-typeahead.min.js">
</script>
<script type="text/javascript">
            // Activate tooltips
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            })

            // CSS Loading
            function loadStyleSheet(src) {
                if (document.createStyleSheet){
                    document.createStyleSheet(src);
                }
                else {
                    $("head").append($("<link rel='stylesheet' href='"+src+"' type='text/css' media='screen' />"));
                }
            };

            $(document).ready(function () {
                // Login modal refer set:
                var login_modal_form = $('.modal .login-wrapper form');
                login_modal_form.attr('action', login_modal_form.attr('action')+'?next=/exams/amazon/aws-certified-solutions-architect-professional/view/69/')

                // Load stylesheets in a deferred way:
                $('link[defhref]').each(function() {
                    $(this).attr('href', $(this).attr('defhref'));
                    //var src = $(this).attr('href');
                    //loadStyleSheet(src);
                });

                // Load mobile images in a deferred way:
                var isMobile = window.matchMedia("only screen and (max-width: 490px)").matches;
                if (isMobile) {
                    $('img[mobile-defsrc]').each(function () {
                        $(this).attr('src', $(this).attr('mobile-defsrc')).removeAttr('defsrc');
                    });
                }

                // Load images in a deferred way:
                $('img[defsrc]').each(function() {
                    $(this).attr('src',$(this).attr('defsrc'));
                });


                function delayedStart() {
                    // Typeahead start

                    // Register typeahead element:
                    $('#header-keyword-search, #modal-keyword-search').typeahead({
                        source: autoCompleteQuery,
                        autoSelect: true,
                        delay: 150,
                        selectOnBlur: false,
                        afterSelect: function(param) {$(this.$element).closest('form').submit()}
                    });

                    // Query ajax function:
                    function autoCompleteQuery(query, callback) {
                        return $.get("/ajax/autocomplete/suggestions/?query=" + query).done(callback);
                    }
                    // Typeahead end
                }
                setTimeout(delayedStart, 1500);

                // Don't submit empty search query
                $('#modal-keyword-search-form').submit(function() {
                    if (!$('#modal-keyword-search').val()) {
                        return false;
                    }
                });

                // Auto focus on search box when search-modal is opened
                $('.search-modal').on('shown.bs.modal', function (e) {
                    $(this).find('input[type=text]').focus();
                });


            });



        </script>
<script type="text/javascript">
        $(document).ready(function () {

            

            /* DISCUSSIONS: */
            /* Discussion modal opened */
            $('body').on('click', ".question-discussion-button[href='#']", function (e) {
                e.preventDefault();
                var discussionId = $(this).closest('.question-body').attr('data-id');
                resetDiscussionModal();
                loadDiscussionIntoModal(discussionId);
                $('#discussion-modal').modal('show');
            });

            function resetDiscussionModal() {
                $('.discussion-loading-title').show();
                $('.discussion-ellipsis').show();
                $('.discussion-real-title').hide();
                $('.discussion-body').hide();
            }

            function loadDiscussionIntoModal(question_id) {
                $.ajax({
                    url: '/ajax/discussion/exam-question/' + question_id.toString(),
                    success: function (data) {
                        $('.discussion-body').html(data);
                        $('.discussion-real-title').text($('.discussion-body').find('.new-comment-box').data('title'));
                    },
                    error: function () {
                        $('.discussion-body').text('Server error: could not load discussion.')
                    },
                    complete: function () {
                        $('.discussion-loading-title').hide();
                        $('.discussion-ellipsis').hide();
                        $('.discussion-real-title').show();
                        $('.discussion-body').slideDown();
                    }
                });
            }

            /* END DISCUSSIONS */

        });
    </script>
<!-- Discussion modal -->
<div aria-hidden="true" aria-labelledby="myLargeModalLabel" class="modal fade" id="discussion-modal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg modal-dialog-centered">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="myLargeModalLabel">
<span class="discussion-loading-title">
                            Loading discussion
                            <i class="ml-2 fa fa-refresh fa-spin"></i>
</span>
<span class="discussion-real-title display-none">
<!-- Placehodler for real discussion title -->
</span>
</h4>
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">Ã—</span>
</button>
</div>
<div class="modal-body">
<div class="discussion-body">
</div>
<div class="discussion-ellipsis">
                        ...
                    </div>
</div>
</div>
</div>
</div>
<!-- / Discussion modal -->
<!-- Comments dependencies -->
<!-- Report Comment Modal --><div aria-hidden="true" class="modal fade" id="report-comment-modal" role="dialog" tabindex="-1"><div class="modal-sm modal-dialog modal-dialog-centered"><div class="modal-content"><!-- Modal Header --><div class="modal-header"><h4 class="modal-title">Report Comment</h4><button class="close" data-dismiss="modal" type="button">Ã—</button></div><!-- Modal body --><div class="modal-body">
                    Is the comment made by <span class="comment-report-modal-username font-italic">USERNAME</span> spam or abusive?
                </div><!-- Modal footer --><div class="modal-footer"><button class="btn btn-default" id="modal-btn-yes" type="button">Yes</button><button class="btn btn-primary" id="modal-btn-no" type="button">No</button></div></div></div></div><!-- End report comment modal --><!-- Login Required Comment Modal --><div aria-hidden="true" class="modal" id="login-required-comment-modal" role="dialog" tabindex="-1"><div class="modal-sm modal-dialog modal-dialog-centered"><div class="modal-content"><!-- Modal Header --><div class="modal-header"><h4 class="modal-title">Commenting</h4><button class="close" data-dismiss="modal" type="button">Ã—</button></div><!-- Modal body --><div class="modal-body">
                    In order to participate in the comments you need to be logged-in. <br/>
                    You can <a href="/signup/">sign-up</a> or
                    <a href="/login/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/69/">login</a>
                    (it's free).
                </div><!-- Modal footer --><div class="modal-footer"><button class="btn btn-primary" data-dismiss="modal" id="modal-btn-no-2" type="button">Ok</button></div></div></div></div><!-- End Login Required comment modal --><input class="csrf-value" type="hidden" value="DnpsafFaODPHfvddIzRzCiJzwU7fWMmfU5nRUiAkjQE2opbBvlK88FYr13zSbshr"/><div class="d-none" id="edit-comment-template"><textarea class="comment-edit" style="width:100%"></textarea><br/><div class="original-comment d-none"></div><a class="btn-primary btn btn-sm comment-edit-save mr-2" href="#">Save</a><a class="btn-warning btn btn-sm comment-edit-cancel" href="#">Cancel</a></div><div class="full-discussion-loading-spinner display-none">
        Loading <i class="fa fa-cog fa-spin"></i> ...
    </div><!-- Moderate actions: --><script type="text/javascript">

        // Approve:
        $("body").on("click", ".approve-comment-button", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            moderate_comment(comment_id, "approve");
            if ($(this).closest(".comment-moderation-row").length)
                $(this).closest(".comment-moderation-row").slideUp().remove();
            else {
                $(this).closest(".media").find(".approve-comment-button").slideUp();
                $(this).closest(".media").find(".comment-head-notification").text("");
            }
        });

        // Delete:
        $("body").on("click", ".delete-comment-button", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            moderate_comment(comment_id, "delete");
            if ($(this).closest(".comment-moderation-row").length)
                $(this).closest(".comment-moderation-row").slideUp().remove();
            else
                $(this).closest(".media").slideUp().remove();
        });

        // Edit open:
        $("body").on("click", ".edit-comment-button", function (e) {
            e.preventDefault();
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var comment_original_text = comment_content_div.text();

            var edit_comment_content = $("#edit-comment-template").html();

            comment_content_div.text("");
            comment_content_div.html(edit_comment_content);

            comment_content_div.find(".original-comment").text(comment_original_text);
            textarea = comment_content_div.find("textarea")
            textarea.text(comment_original_text);
            autoresize(textarea);
        });

        // Edit cancel:
        $("body").on("click", ".comment-edit-cancel", function (e) {
            e.preventDefault();
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var original_comment_content = comment_content_div.find(".original-comment").text();
            comment_content_div.html(original_comment_content);
        });

        // Edit save:
        $("body").on("click", ".comment-edit-save", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var new_comment_content = comment_content_div.find("textarea").val();

            moderate_comment(comment_id, "edit", new_comment_content);
            comment_content_div.html(new_comment_content);
        });

        function moderate_comment(comment_id, action, extra) {
            if (extra === undefined) {
                extra = 1;
            }
            var ajax_data = {
                'comment_id': comment_id,
            };
            ajax_data[action] = extra;

            $.ajax({
                url: "/ajax/moderate/",
                method: 'GET',
                data: ajax_data,
                error: function (xhr, status, error) {
                    alert(status.toString() + "," + error.toString() + ":" + xhr.responseText);
                }
            });
        }

        // Auto resize textarea to fit contents:
        function autoresize(textarea) {
            textarea = $(textarea)
            textarea.css('height','0px');     //Reset height, so that it not only grows but also shrinks
            textarea.css('height',(textarea[0].scrollHeight + 10) + 'px');    //Set new height
        }

        $('textarea.comment-edit').keyup(function () {
            autoresize(this);
        });

        // Handle "Load Full Discussion" button
        $("body").on("click", ".load-full-discussion-button", function (){
            if ($(this).hasClass("disabled"))
                return false;
            $(".load-full-discussion-button").addClass("disabled");
            let after_comment_id = $(this).parents(".load-more-section").data("after-comment");
            let discussion_id = $(this).parents(".load-more-section").data("discussion-id");
            let discussion_load_indicator = $('.full-discussion-loading-spinner').clone()
            let discussion_container = $(this).parents(".outer-discussion-container");
            $(this).replaceWith(discussion_load_indicator);
            discussion_load_indicator.show();

            $.ajax({
                url: "/ajax/discussion/load-complete/",
                method: 'GET',
                dataType: 'html',
                data: {"discussion-id": discussion_id},
                success: function (full_discussion_html) {
                    let full_discusssion = $(full_discussion_html);
                    discussion_container.replaceWith(full_discusssion);
                    // Scroll to the current comment location:
                    setTimeout(function() {
                        $(document).scrollTop(
                            $("#comment-"+after_comment_id).offset().top - 80
                        )
                    }, 100);
                },
                error: function (xhr, status, error) {
                    alert("Error loading full discussion");
                }
            })
        });




    </script>
<script src="/assets/js/comments.js" type="text/javascript"></script>
<!-- / Comments dependencies -->
<script src="/assets/js/examview.js" type="text/javascript"></script>
<script type="text/javascript">
</script>
<script type="text/javascript">
        const TIME_BEFORE_ENGAGEMENT_MODAL_POPUP = 4000;
        $(document).ready(function () {
            setTimeout(function () {
                    $('#engagement-modal').modal({backdrop: 'static'})
                },
                TIME_BEFORE_ENGAGEMENT_MODAL_POPUP);
        });
    </script>
<input class="is-logged-in" type="hidden" value="0"/>
</div></body></html>