<!DOCTYPE html>
<html lang="en">
<!-- RubyOnRails - formstatic / kaminari -->
<head>
<base href="https://changwhaj.github.io/assets/">
<meta content="authenticity_token" name="csrf-param" />
<meta content="4sWPhTlJAds1IcfNq1FCybbssAVhHqjiDCKRXOgOQock=" name="csrf-token" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119892649-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-119892649-1');
</script>
<meta name="google-site-verification" content="F930_I7rZrRYlNHqblq5P9QvwAEKasart2HpzlnYsSQ" />
<!-- meta tag -->
<meta charset="utf-8">
<title>AWS Certified Solutions Architect - Professional Exam – Free Actual Q&amp;As, Page 57 | ExamTopics</title>
<meta name="description" content="Free, Actual and Latest Practice Test for those who are preparing for AWS Certified Solutions Architect - Professional
.">
<!-- responsive tag -->
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- favicon -->
<link rel="apple-touch-icon" sizes="57x57" href="/assets/images/et/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/images/et/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/images/et/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/images/et/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/et/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/images/et/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/et/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/images/et/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/et/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/et/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/et/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/images/et/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/et/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/images/et/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#007bff">
<meta name="msapplication-TileImage" content="/assets/images/et/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

    <!-- deflink == defered link (loaded later by jquery) -->
    <!-- bootstrap v4 css -->
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css" />
    <!-- font-awesome css -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/font-awesome.min.css" />
    <!-- animate css -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/animate.css" />
    <!-- owl.carousel css -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/owl.carousel.css" />
    <!-- slick css -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/slick.css" />
    <!-- rsmenu CSS -->
    <link rel="stylesheet" type="text/css" href="/assets/css/rsmenu-main.css" />
    <!-- rsmenu transitions CSS -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/rsmenu-transitions.css" />
    <!-- magnific popup css -->
    <link rel="stylesheet" type="text/css" defhref="/assets/css/magnific-popup.css" />

    <!-- flaticon css  -->
    <link rel="stylesheet" type="text/css" defhref="/assets/fonts/flaticon.css" />
    <!-- flaticon2 css  -->
    <link rel="stylesheet" type="text/css" defhref="/assets/fonts/fonts2/flaticon.css" />

    <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
    <!-- Switch style CSS
    <link rel="stylesheet" href="/assets/css/color-style.css">-->
    <link rel="stylesheet" type="text/css" href="/assets/css/color/default.css" />
    <!-- style css -->
    <!-- switch color presets css
    <link id="switch_style" href="#" rel="stylesheet" type="text/css"> -->
    <!-- responsive css -->
    <link rel="stylesheet" type="text/css" href="/assets/css/responsive.css" />

<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<style>
.exam-question-card  {
    break-inside: avoid;
}


</style>

</head>
<body class="home2">
<!--Full width header Start-->
<!--Full width header End-->
<div class="sec-spacer" style="padding: 60px 0px; ">
<div class="container">
<div class="row">
<div class="col-12">
<div class="page-navigation-line">
<script type="text/javascript">
var row = "";
var div = document.getElementsByClassName('page-navigation-line')[0]
for (var i = 1; i <= 75; i++) {
    row = row + "<a class='btn-success' href='exam/aws/SAP/page/SAP-P" + i + ".html'><i class='fa'></i> " + i + "</a> "
}
div.innerHTML = row 
</script>
</div>
<div class="questions-container">
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #561
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675264">
<p class="card-text">
                                        
                                        A company provides AWS solutions to its users with AWS CloudFormation templates. Users launch the templates in their accounts to have different solutions provisioned for them. The users want to improve the deployment strategy for solutions while retaining the ability to do the following:<br/>✑ Add their own features to a solution for their specific deployments.<br/>✑ Run unit tests on their changes.<br/>✑ Turn features on and off for their deployments.<br/>✑ Automatically update with code changes.<br/>✑ Run security scanning tools for their deployments.<br/>Which strategies should the Solutions Architect use to meet the requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Allow users to download solution code as Docker images. Use AWS CodeBuild and AWS CodePipeline for the CI/CD pipeline. Use Docker images for different solution features and the AWS CLI to turn features on and off. Use AWS CodeDeploy to run unit tests and security scans, and for deploying and updating a solution with changes.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Allow users to download solution code artifacts. Use AWS CodeCommit and AWS CodePipeline for the CI/CD pipeline. Use AWS Amplify plugins for different solution features and user prompts to turn features on and off. Use AWS Lambda to run unit tests and security scans, and AWS CodeBuild for deploying and updating a solution with changes.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Allow users to download solution code artifacts in their Amazon S3 buckets. Use Amazon S3 and AWS CodePipeline for the CI/CD pipelines. Use CloudFormation StackSets for different solution features and to turn features on and off. Use AWS Lambda to run unit tests and security scans, and CloudFormation for deploying and updating a solution with changes.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Allow users to download solution code artifacts. Use AWS CodeCommit and AWS CodePipeline for the CI/CD pipeline. Use the AWS Cloud Development Kit constructs for different solution features, and use the manifest file to turn features on and off. Use AWS CodeBuild to run unit tests and security scans, and for deploying and updating a solution with changes.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q561.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">17</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
                                            Reference:<br/>https://www.slideshare.net/AmazonWebServices/cicd-for-containers-a-way-forward-for-your-devops-pipeline
                                        </span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #562
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675265">
<p class="card-text">
                                        
                                        A company uses Amazon S3 to host a web application. Currently, the company uses a continuous integration tool running on an Amazon EC2 instance that builds and deploys the application by uploading it to an S3 bucket. A Solutions Architect needs to enhance the security of the companyג€™s platform with the following requirements:<br/>✑ A build process should be run in a separate account from the account hosting the web application.<br/>✑ A build process should have minimal access in the account it operates in.<br/>✑ Long-lived credentials should not be used.<br/>As a start, the Development team created two AWS accounts: one for the application named web account process; other is a named build account.<br/>Which solution should the Solutions Architect use to meet the security requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        In the build account, create a new IAM role, which can be assumed by Amazon EC2 only. Attach the role to the EC2 instance running the continuous integration process. Create an IAM policy to allow s3: PutObject calls on the S3 bucket in the web account. In the web account, create an S3 bucket policy attached to the S3 bucket that allows the build account to use s3:PutObject calls.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        In the build account, create a new IAM role, which can be assumed by Amazon EC2 only. Attach the role to the EC2 instance running the continuous integration process. Create an IAM policy to allow s3: PutObject calls on the S3 bucket in the web account. In the web account, create an S3 bucket policy attached to the S3 bucket that allows the newly created IAM role to use s3:PutObject calls.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        In the build account, create a new IAM user. Store the access key and secret access key in AWS Secrets Manager. Modify the continuous integration process to perform a lookup of the IAM user credentials from Secrets Manager. Create an IAM policy to allow s3: PutObject calls on the S3 bucket in the web account, and attack it to the user. In the web account, create an S3 bucket policy attached to the S3 bucket that allows the newly created IAM user to use s3:PutObject calls.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        In the build account, modify the continuous integration process to perform a lookup of the IAM user credentials from AWS Secrets Manager. In the web account, create a new IAM user. Store the access key and secret access key in Secrets Manager. Attach the PowerUserAccess IAM policy to the IAM user.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q562.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #563
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675266">
<p class="card-text">
                                        
                                        A fleet of Amazon ECS instances is used to poll an Amazon SQS queue and update items in an Amazon DynamoDB database. Items in the table are not being updated, and the SQS queue is filling up. Amazon CloudWatch Logs are showing consistent 400 errors when attempting to update the table. The provisioned write capacity units are appropriately configured, and no throttling is occurring.<br/>What is the LIKELY cause of the failure?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        The ECS service was deleted.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        The ECS configuration does not contain an Auto Scaling group.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        The ECS instance task execution IAM role was modified.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        The ECS task role was modified.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q563.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">C</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #564
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675267">
<p class="card-text">
                                        
                                        A mobile gaming application publishes data continuously to Amazon Kinesis Data Streams. An AWS Lambda function processes records from the data stream and writes to an Amazon DynamoDB table. The DynamoDB table has an auto scaling policy enabled with the target utilization set to 70%.<br/>For several minutes at the start and end of each day, there is a spike in traffic that often exceeds five times the normal load. The company notices the<br/>GetRecords.IteratorAgeMilliseconds metric of the Kinesis data stream temporarily spikes to over a minute for several minutes. The AWS Lambda function writes<br/>ProvisionedThroughputExceededException messages to Amazon CloudWatch Logs during these times, and some records are redirected to the dead letter queue.<br/>No exceptions are thrown by the Kinesis producer on the gaming application.<br/>What change should the company make to resolve this issue?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Use Application Auto Scaling to set a scaling schedule to scale out write capacity on the DynamoDB table during predictable load spikes.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Use Amazon CloudWatch Events to monitor the dead letter queue and invoke a Lambda function to automatically retry failed records.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Reduce the DynamoDB table auto scaling policy's target utilization to 20% to more quickly respond to load spikes.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Increase the number of shards in the Kinesis data stream to increase throughput capacity.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q564.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">37</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">D</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #565
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675268">
<p class="card-text">
                                        
                                        A company has a web application that securely uploads pictures and videos to an Amazon S3 bucket. The company requires that only authenticated users are allowed to post content. The application generates a presigned URL that is used to upload objects through a browser interface. Most users are reporting slow upload times for objects larger than 100 MB.<br/>What can a Solutions Architect do to improve the performance of these uploads while ensuring only authenticated users are allowed to post content?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Set up an Amazon API Gateway with an edge-optimized API endpoint that has a resource as an S3 service proxy. Configure the PUT method for this resource to expose the S3 PutObject operation. Secure the API Gateway using a COGNITO_USER_POOLS authorizer. Have the browser interface use API Gateway instead of the presigned URL to upload objects.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Set up an Amazon API Gateway with a regional API endpoint that has a resource as an S3 service proxy. Configure the PUT method for this resource to expose the S3 PutObject operation. Secure the API Gateway using an AWS Lambda authorizer. Have the browser interface use API Gateway instead of the presigned URL to upload API objects.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Enable an S3 Transfer Acceleration endpoint on the S3 bucket. Use the endpoint when generating the presigned URL. Have the browser interface upload the objects to this URL using the S3 multipart upload API.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Configure an Amazon CloudFront distribution for the destination S3 bucket. Enable PUT and POST methods for the CloudFront cache behavior. Update the CloudFront origin to use an origin access identity (OAI). Give the OAI user s3:PutObject permissions in the bucket policy. Have the browser interface upload objects using the CloudFront distribution.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q565.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">C</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #566
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675269">
<p class="card-text">
                                        
                                        A companyג€™s CISO has asked a Solutions Architect to re-engineer the companyג€™s current CI/CD practices to make sure patch deployments to its applications can happen as quickly as possible with minimal downtime if vulnerabilities are discovered. The company must also be able to quickly roll back a change in case of errors.<br/>The web application is deployed in a fleet of Amazon EC2 instances behind an Application Load Balancer. The company is currently using GitHub to host the application source code, and has configured an AWS CodeBuild project to build the application. The company also intends to use AWS CodePipeline to trigger builds from GitHub commits using the existing CodeBuild project.<br/>What CI/CD configuration meets all of the requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Configure CodePipeline with a deploy stage using AWS CodeDeploy configured for in-place deployment. Monitor the newly deployed code, and, if there are any issues, push another code update.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Configure CodePipeline with a deploy stage using AWS CodeDeploy configured for blue/green deployments. Monitor the newly deployed code, and, if there are any issues, trigger a manual rollback using CodeDeploy.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Configure CodePipeline with a deploy stage using AWS CloudFormation to create a pipeline for test and production stacks. Monitor the newly deployed code, and, if there are any issues, push another code update.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Configure the CodePipeline with a deploy stage using AWS OpsWorks and in-place deployments. Monitor the newly deployed code, and, if there are any issues, push another code update.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q566.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">B</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #567
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675270">
<p class="card-text">
                                        
                                        A company wants to analyze log data using date ranges with a custom application running on AWS. The application generates about 10 GB of data every day, which is expected to grow. A Solutions Architect is tasked with storing the data in Amazon S3 and using Amazon Athena to analyze the data.<br/>Which combination of steps will ensure optimal performance as the data grows? (Choose two.)<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Store each object in Amazon S3 with a random string at the front of each key.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Store the data in multiple S3 buckets.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Store the data in Amazon S3 in a columnar format, such as Apache Parquet or Apache ORC.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Store the data in Amazon S3 in objects that are smaller than 10 MB.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            E.
                                                        </span>
                                                        
                                                        Store the data using Apache Hive partitioning in Amazon S3 using a key that includes a date, such as dt=2019-02.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q567.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">15</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">BC</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #568
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675271">
<p class="card-text">
                                        
                                        An advisory firm is creating a secure data analytics solution for its regulated financial services users. Users will upload their raw data to an Amazon S3 bucket, where they have PutObject permissions only. Data will be analyzed by applications running on an Amazon EMR cluster launched in a VPC. The firm requires that the environment be isolated from the internet. All data at rest must be encrypted using keys controlled by the firm.<br/>Which combination of actions should the Solutions Architect take to meet the user's security requirements? (Choose two.)<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Launch the Amazon EMR cluster in a private subnet configured to use an AWS KMS CMK for at-rest encryption. Configure a gateway VPC endpoint for Amazon S3 and an interface VPC endpoint for AWS KMS.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Launch the Amazon EMR cluster in a private subnet configured to use an AWS KMS CMK for at-rest encryption. Configure a gateway VPC endpoint for Amazon S3 and a NAT gateway to access AWS KMS.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Launch the Amazon EMR cluster in a private subnet configured to use an AWS CloudHSM appliance for at-rest encryption. Configure a gateway VPC endpoint for Amazon S3 and an interface VPC endpoint for CloudHSM.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Configure the S3 endpoint policies to permit access to the necessary data buckets only.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            E.
                                                        </span>
                                                        
                                                        Configure the S3 bucket policies to permit access using an aws:sourceVpce condition to match the S3 endpoint ID.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q568.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">32</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">AE</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #569
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675272">
<p class="card-text">
                                        
                                        While debugging a backend application for an IoT system that supports globally distributed devices, a Solutions Architect notices that stale data is occasionally being sent to user devices. Devices often share data, and stale data does not cause issues in most cases. However, device operations are disrupted when a device reads the stale data after an update.<br/>The global system has multiple identical application stacks deployed in different AWS Regions. If a user device travels out of its home geographic region, it will always connect to the geographically closest AWS Region to write or read data. The same data is available in all supported AWS Regions using an Amazon<br/>DynamoDB global table.<br/>What change should be made to avoid causing disruptions in device operations?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Update the backend to use strongly consistent reads. Update the devices to always write to and read from their home AWS Region.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Enable strong consistency globally on a DynamoDB global table. Update the backend to use strongly consistent reads.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Switch the backend data store to Amazon Aurora MySQL with cross-region replicas. Update the backend to always write to the master endpoint.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Select one AWS Region as a master and perform all writes in that AWS Region only. Update the backend to use strongly consistent reads.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q569.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">12</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">A</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
<!-- Question -->
<div class="card exam-question-card">
<div class="card-header text-white bg-primary">
                                    Question #570
                                    <span class="question-title-topic pull-right">
                                        Topic 1
                                    </span>
</div>
<div class="card-body question-body" data-id="675273">
<p class="card-text">
                                        
                                        A software as a service (SaaS) company offers a cloud solution for document management to private law firms and the public sector. A local government client recently mandated that highly confidential documents cannot be stored outside the country. The company CIO asks a Solutions Architect to ensure the application can adapt to this new requirement. The CIO also wants to have a proper backup plan for these documents, as backups are not currently performed.<br/>What solution meets these requirements?<br/>
</p>
<div class="question-choices-container">
<ul>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            A.
                                                        </span>
                                                        
                                                        Tag documents that are not highly confidential as regular in Amazon S3. Create individual S3 buckets for each user. Upload objects to each user's bucket. Set S3 bucket replication from these buckets to a central S3 bucket in a different AWS account and AWS Region. Configure an AWS Lambda function triggered by scheduled events in Amazon CloudWatch to delete objects that are tagged as secret in the S3 backup bucket.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            B.
                                                        </span>
                                                        
                                                        Tag documents as either regular or secret in Amazon S3. Create an individual S3 backup bucket in the same AWS account and AWS Region. Create a cross- region S3 bucket in a separate AWS account. Set proper IAM roles to allow cross-region permissions to the S3 buckets. Configure an AWS Lambda function triggered by Amazon CloudWatch scheduled events to copy objects that are tagged as secret to the S3 backup bucket and objects tagged as normal to the cross-region S3 bucket.
                                                    </li>
<li class="multi-choice-item">
<span class="multi-choice-letter">
                                                            C.
                                                        </span>
                                                        
                                                        Tag documents as either regular or secret in Amazon S3. Create an individual S3 backup bucket in the same AWS account and AWS Region. Use S3 selective cross-region replication based on object tags to move regular documents to an S3 bucket in a different AWS Region. Configure an AWS Lambda function that triggers when new S3 objects are created in the main bucket to replicate only documents tagged as secret into the S3 bucket in the same AWS Region.
                                                    </li>
<li class="multi-choice-item correct-hidden">
<span class="multi-choice-letter">
                                                            D.
                                                        </span>
                                                        
                                                        Tag highly confidential documents as secret in Amazon S3. Create an individual S3 backup bucket in the same AWS account and AWS Region. Use S3 selective cross-region replication based on object tags to move regular documents to a different AWS Region. Create an Amazon CloudWatch Events rule for new S3 objects tagged as secret to trigger an AWS Lambda function to replicate them into a separate bucket in the same AWS Region.
                                                    </li>
</ul>
</div>
<a class="btn btn-primary reveal-solution d-print-none" href="#">Reveal Solution</a>
<a class="btn btn-primary hide-solution d-none d-print-none" href="#">Hide Solution</a>
<a class="btn btn-secondary question-discussion-button d-print-none" href="exam/aws/SAP/SAP-Q570.html" target="sapexam">
<i class="fa fa-comment"></i>
                                              Discussion  
                                            
                                                <span class="badge badge-pill badge-light">13</span>
</a>
<p class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Correct Answer:</strong>
<span class="correct-answer">D</span> <br/>
</span>
<span class="answer-description">
</span>
</p>
</div>
</div>
<!-- / Question  -->
</div>
<div class="page-navigation-bar">
<div class="col-12">
<a class="btn btn-success" href="exam/aws/SAP/page/SAP-P56.html"><i class="fa fa-arrow-left"></i> Previous Questions</a>
<a class="btn btn-success pull-right" href="exam/aws/SAP/page/SAP-P58.html">Next Questions <i class="fa fa-arrow-right"></i></a>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Footer Start -->
<!-- Footer End -->
<!-- start scrollUp  -->
<div class="d-print-none" id="scrollUp">
<i class="fa fa-angle-up"></i>
</div>
<!-- Search Modal Start -->
<div aria-hidden="true" class="modal fade search-modal" role="dialog" tabindex="-1">
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true" class="fa fa-close"></span>
</button>
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content">
<div class="search-block clearfix">
<form action="/search/" id="modal-keyword-search-form">
<div class="form-group">
<input autocomplete="off" class="form-control" id="modal-keyword-search" name="query" placeholder="Exam name or code..." type="text"/>
</div>
</form>
</div>
</div>
</div>
</div>
<div aria-hidden="true" aria-labelledby="loginModalLabel" class="modal fade" id="login-modal" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="loginModalLabel">Log in to ExamTopics</h5>
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body">
<div class="login-wrapper col-lg-10 offset-lg-1 col-md-12">
<h4 class="mb-30 text-left">Sign in:</h4>
<form action="/login/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/57/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/57/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/57/" method="post">
<div class="card-text mb-30">
<div class="input-group input-group-lg mb-3">
<div class="input-group-prepend">
<span class="input-group-text bg-theme-blue text-white" id="basic-addon1">
<i class="fa fa-user" style="width: 20px; height: 20px"></i>
</span>
</div>
<input aria-describedby="basic-addon1" aria-label="Username" class="form-control username-text" name="email" placeholder="Email or nickname" type="text"/>
</div>
</div>
<div class="card-text mb-30">
<div class="input-group input-group-lg mb-1">
<div class="input-group-prepend">
<span class="input-group-text bg-theme-blue text-white" id="basic-addon2">
<i class="fa fa-key" style="width: 20px; height: 20px"></i>
</span>
</div>
<input aria-describedby="basic-addon2" aria-label="Password" class="form-control password-text" name="password" placeholder="Password" type="password"/>
</div>
<div class="mb-30 text-left"><a href="/reset-password/">Forgot my password</a></div>
</div>
<button class="btn btn-primary btn-lg login-button" onclick="validateUserPass(event);" type="submit">Log in</button>
<input name="csrfmiddlewaretoken" type="hidden" value="WwZrCLIcqHI9DEYLf6Iv5XZX5XxD3JDn5nmnFDS2e2aoVtEa2O7U69r2ctUqa87B"/>
</form>
<div class="login-footer mt-30">
<span>Don't have an account yet? just <a href="/signup/">sign-up</a>.</span>
<br/>
<span>
<i class="fa fa-envelope-o"></i>
<a href="/resend-activation/">Resend activation email</a>
</span>
</div>
</div> <!-- / Login wrapper -->
<script type="application/javascript">
    function validateUserPass(e) {
        let username = $('.username-text').val().trim();
        let password = $('.password-text').val().trim();
        if ((!username) || (!password)) {
            bootbox.alert("Username or password are missing");
            e.preventDefault();
        }
    }

</script>
</div>
<div class="modal-footer">
<button class="btn btn-secondary mt-15" data-dismiss="modal" type="button">Close</button>
</div>
</div>
</div>
</div>
<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<!-- modernizr js -->
<script src="/assets/js/modernizr-2.8.3.min.js"></script>
<!-- jquery latest version -->
<script src="/assets/js/jquery.min.js"></script>
<!-- bootstrap js -->
<script src="/assets/js/bootstrap.min.js"></script>
<!-- owl.carousel js
        <script src="/assets/js/owl.carousel.min.js"></script>-->
<!-- slick.min js -->
<script src="/assets/js/slick.min.js"></script>
<!-- isotope.pkgd.min js -->
<script src="/assets/js/isotope.pkgd.min.js"></script>
<!-- imagesloaded.pkgd.min js -->
<script src="/assets/js/imagesloaded.pkgd.min.js"></script>
<!-- wow js -->
<script src="/assets/js/wow.min.js"></script>
<!-- counter top js -->
<script src="/assets/js/waypoints.min.js"></script>
<script src="/assets/js/jquery.counterup.min.js"></script>
<!-- magnific popup -->
<script src="/assets/js/jquery.magnific-popup.min.js"></script>
<!-- rsmenu js -->
<script src="/assets/js/rsmenu-main.js"></script>
<!-- plugins js -->
<script src="/assets/js/plugins.js"></script>
<!-- Switch js -->
<script src="/assets/js/color-style.js"></script>
<!-- main js -->
<script src="/assets/js/main.js"></script>
<script src="/assets/js/bootbox.min.js"></script>
<script async="" defer="" src="/assets/js/bootstrap3-typeahead.min.js">
</script>
<script type="text/javascript">
            // Activate tooltips
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            })

            // CSS Loading
            function loadStyleSheet(src) {
                if (document.createStyleSheet){
                    document.createStyleSheet(src);
                }
                else {
                    $("head").append($("<link rel='stylesheet' href='"+src+"' type='text/css' media='screen' />"));
                }
            };

            $(document).ready(function () {
                // Login modal refer set:
                var login_modal_form = $('.modal .login-wrapper form');
                login_modal_form.attr('action', login_modal_form.attr('action')+'?next=/exams/amazon/aws-certified-solutions-architect-professional/view/57/')

                // Load stylesheets in a deferred way:
                $('link[defhref]').each(function() {
                    $(this).attr('href', $(this).attr('defhref'));
                    //var src = $(this).attr('href');
                    //loadStyleSheet(src);
                });

                // Load mobile images in a deferred way:
                var isMobile = window.matchMedia("only screen and (max-width: 490px)").matches;
                if (isMobile) {
                    $('img[mobile-defsrc]').each(function () {
                        $(this).attr('src', $(this).attr('mobile-defsrc')).removeAttr('defsrc');
                    });
                }

                // Load images in a deferred way:
                $('img[defsrc]').each(function() {
                    $(this).attr('src',$(this).attr('defsrc'));
                });


                function delayedStart() {
                    // Typeahead start

                    // Register typeahead element:
                    $('#header-keyword-search, #modal-keyword-search').typeahead({
                        source: autoCompleteQuery,
                        autoSelect: true,
                        delay: 150,
                        selectOnBlur: false,
                        afterSelect: function(param) {$(this.$element).closest('form').submit()}
                    });

                    // Query ajax function:
                    function autoCompleteQuery(query, callback) {
                        return $.get("/ajax/autocomplete/suggestions/?query=" + query).done(callback);
                    }
                    // Typeahead end
                }
                setTimeout(delayedStart, 1500);

                // Don't submit empty search query
                $('#modal-keyword-search-form').submit(function() {
                    if (!$('#modal-keyword-search').val()) {
                        return false;
                    }
                });

                // Auto focus on search box when search-modal is opened
                $('.search-modal').on('shown.bs.modal', function (e) {
                    $(this).find('input[type=text]').focus();
                });


            });



        </script>
<script type="text/javascript">
        $(document).ready(function () {

            

            /* DISCUSSIONS: */
            /* Discussion modal opened */
            $('body').on('click', ".question-discussion-button[href='#']", function (e) {
                e.preventDefault();
                var discussionId = $(this).closest('.question-body').attr('data-id');
                resetDiscussionModal();
                loadDiscussionIntoModal(discussionId);
                $('#discussion-modal').modal('show');
            });

            function resetDiscussionModal() {
                $('.discussion-loading-title').show();
                $('.discussion-ellipsis').show();
                $('.discussion-real-title').hide();
                $('.discussion-body').hide();
            }

            function loadDiscussionIntoModal(question_id) {
                $.ajax({
                    url: '/ajax/discussion/exam-question/' + question_id.toString(),
                    success: function (data) {
                        $('.discussion-body').html(data);
                        $('.discussion-real-title').text($('.discussion-body').find('.new-comment-box').data('title'));
                    },
                    error: function () {
                        $('.discussion-body').text('Server error: could not load discussion.')
                    },
                    complete: function () {
                        $('.discussion-loading-title').hide();
                        $('.discussion-ellipsis').hide();
                        $('.discussion-real-title').show();
                        $('.discussion-body').slideDown();
                    }
                });
            }

            /* END DISCUSSIONS */

        });
    </script>
<!-- Discussion modal -->
<div aria-hidden="true" aria-labelledby="myLargeModalLabel" class="modal fade" id="discussion-modal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg modal-dialog-centered">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="myLargeModalLabel">
<span class="discussion-loading-title">
                            Loading discussion
                            <i class="ml-2 fa fa-refresh fa-spin"></i>
</span>
<span class="discussion-real-title display-none">
<!-- Placehodler for real discussion title -->
</span>
</h4>
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body">
<div class="discussion-body">
</div>
<div class="discussion-ellipsis">
                        ...
                    </div>
</div>
</div>
</div>
</div>
<!-- / Discussion modal -->
<!-- Comments dependencies -->
<!-- Report Comment Modal --><div aria-hidden="true" class="modal fade" id="report-comment-modal" role="dialog" tabindex="-1"><div class="modal-sm modal-dialog modal-dialog-centered"><div class="modal-content"><!-- Modal Header --><div class="modal-header"><h4 class="modal-title">Report Comment</h4><button class="close" data-dismiss="modal" type="button">×</button></div><!-- Modal body --><div class="modal-body">
                    Is the comment made by <span class="comment-report-modal-username font-italic">USERNAME</span> spam or abusive?
                </div><!-- Modal footer --><div class="modal-footer"><button class="btn btn-default" id="modal-btn-yes" type="button">Yes</button><button class="btn btn-primary" id="modal-btn-no" type="button">No</button></div></div></div></div><!-- End report comment modal --><!-- Login Required Comment Modal --><div aria-hidden="true" class="modal" id="login-required-comment-modal" role="dialog" tabindex="-1"><div class="modal-sm modal-dialog modal-dialog-centered"><div class="modal-content"><!-- Modal Header --><div class="modal-header"><h4 class="modal-title">Commenting</h4><button class="close" data-dismiss="modal" type="button">×</button></div><!-- Modal body --><div class="modal-body">
                    In order to participate in the comments you need to be logged-in. <br/>
                    You can <a href="/signup/">sign-up</a> or
                    <a href="/login/?next=/exams/amazon/aws-certified-solutions-architect-professional/view/57/">login</a>
                    (it's free).
                </div><!-- Modal footer --><div class="modal-footer"><button class="btn btn-primary" data-dismiss="modal" id="modal-btn-no-2" type="button">Ok</button></div></div></div></div><!-- End Login Required comment modal --><input class="csrf-value" type="hidden" value="WwZrCLIcqHI9DEYLf6Iv5XZX5XxD3JDn5nmnFDS2e2aoVtEa2O7U69r2ctUqa87B"/><div class="d-none" id="edit-comment-template"><textarea class="comment-edit" style="width:100%"></textarea><br/><div class="original-comment d-none"></div><a class="btn-primary btn btn-sm comment-edit-save mr-2" href="#">Save</a><a class="btn-warning btn btn-sm comment-edit-cancel" href="#">Cancel</a></div><div class="full-discussion-loading-spinner display-none">
        Loading <i class="fa fa-cog fa-spin"></i> ...
    </div><!-- Moderate actions: --><script type="text/javascript">

        // Approve:
        $("body").on("click", ".approve-comment-button", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            moderate_comment(comment_id, "approve");
            if ($(this).closest(".comment-moderation-row").length)
                $(this).closest(".comment-moderation-row").slideUp().remove();
            else {
                $(this).closest(".media").find(".approve-comment-button").slideUp();
                $(this).closest(".media").find(".comment-head-notification").text("");
            }
        });

        // Delete:
        $("body").on("click", ".delete-comment-button", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            moderate_comment(comment_id, "delete");
            if ($(this).closest(".comment-moderation-row").length)
                $(this).closest(".comment-moderation-row").slideUp().remove();
            else
                $(this).closest(".media").slideUp().remove();
        });

        // Edit open:
        $("body").on("click", ".edit-comment-button", function (e) {
            e.preventDefault();
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var comment_original_text = comment_content_div.text();

            var edit_comment_content = $("#edit-comment-template").html();

            comment_content_div.text("");
            comment_content_div.html(edit_comment_content);

            comment_content_div.find(".original-comment").text(comment_original_text);
            textarea = comment_content_div.find("textarea")
            textarea.text(comment_original_text);
            autoresize(textarea);
        });

        // Edit cancel:
        $("body").on("click", ".comment-edit-cancel", function (e) {
            e.preventDefault();
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var original_comment_content = comment_content_div.find(".original-comment").text();
            comment_content_div.html(original_comment_content);
        });

        // Edit save:
        $("body").on("click", ".comment-edit-save", function (e) {
            e.preventDefault();
            var comment_id = $(this).closest(".media").attr("data-comment-id");
            var comment_content_div = $(this).closest(".media").find(".comment-content").first();
            var new_comment_content = comment_content_div.find("textarea").val();

            moderate_comment(comment_id, "edit", new_comment_content);
            comment_content_div.html(new_comment_content);
        });

        function moderate_comment(comment_id, action, extra) {
            if (extra === undefined) {
                extra = 1;
            }
            var ajax_data = {
                'comment_id': comment_id,
            };
            ajax_data[action] = extra;

            $.ajax({
                url: "/ajax/moderate/",
                method: 'GET',
                data: ajax_data,
                error: function (xhr, status, error) {
                    alert(status.toString() + "," + error.toString() + ":" + xhr.responseText);
                }
            });
        }

        // Auto resize textarea to fit contents:
        function autoresize(textarea) {
            textarea = $(textarea)
            textarea.css('height','0px');     //Reset height, so that it not only grows but also shrinks
            textarea.css('height',(textarea[0].scrollHeight + 10) + 'px');    //Set new height
        }

        $('textarea.comment-edit').keyup(function () {
            autoresize(this);
        });

        // Handle "Load Full Discussion" button
        $("body").on("click", ".load-full-discussion-button", function (){
            if ($(this).hasClass("disabled"))
                return false;
            $(".load-full-discussion-button").addClass("disabled");
            let after_comment_id = $(this).parents(".load-more-section").data("after-comment");
            let discussion_id = $(this).parents(".load-more-section").data("discussion-id");
            let discussion_load_indicator = $('.full-discussion-loading-spinner').clone()
            let discussion_container = $(this).parents(".outer-discussion-container");
            $(this).replaceWith(discussion_load_indicator);
            discussion_load_indicator.show();

            $.ajax({
                url: "/ajax/discussion/load-complete/",
                method: 'GET',
                dataType: 'html',
                data: {"discussion-id": discussion_id},
                success: function (full_discussion_html) {
                    let full_discusssion = $(full_discussion_html);
                    discussion_container.replaceWith(full_discusssion);
                    // Scroll to the current comment location:
                    setTimeout(function() {
                        $(document).scrollTop(
                            $("#comment-"+after_comment_id).offset().top - 80
                        )
                    }, 100);
                },
                error: function (xhr, status, error) {
                    alert("Error loading full discussion");
                }
            })
        });




    </script>
<script src="/assets/js/comments.js" type="text/javascript"></script>
<!-- / Comments dependencies -->
<script src="/assets/js/examview.js" type="text/javascript"></script>
<script type="text/javascript">
</script>
<script type="text/javascript">
        const TIME_BEFORE_ENGAGEMENT_MODAL_POPUP = 4000;
        $(document).ready(function () {
            setTimeout(function () {
                    $('#engagement-modal').modal({backdrop: 'static'})
                },
                TIME_BEFORE_ENGAGEMENT_MODAL_POPUP);
        });
    </script>
<input class="is-logged-in" type="hidden" value="0"/>
</body></html>